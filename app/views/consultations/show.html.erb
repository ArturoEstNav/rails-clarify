<div class="container custom-vertical-spacing mb-16">
  <div class="card custom-card-static custom-padding mb-4">

    <h2>Appointment Details</h2>
    <div class="d-flex flex-row">
      <p style="font-weight: bold;"><%= "Schedule: #{@consultation.start_time.strftime("%A %b %d %T")} to #{@consultation.end_time.strftime("%T")}" %></p>
      <p class="ml-3" style="font-weight: bold;">Duration: 1 hour - Please be present 15 min. before the appointment</p>
    </div>
    <div class="mt-3">
      <h4 class="text-success"><%= "#{@consultation.plan.name} Plan" %></h4>

      <p><%= "Remember! The goal is #{@consultation.plan.goal_description}" %></p>

      <p><%= "Patient: #{@consultation.patient.patient_record.first_name.capitalize} #{@consultation.patient.patient_record.last_name.capitalize}" %></p>
      <p><%= "Coach: #{@consultation.coach.coach_record.first_name.capitalize} #{@consultation.coach.coach_record.last_name.capitalize}" %></p>

      <p><%= "Address: #{@consultation.coach.coach_record.address}" %></p>
    </div>

  </div>

  <%= button_to 'Go back', '/dashboard', method: :get, class: "btn btn-primary" %>
  <div class="mt-3">
    <% if @consultation.review.present? %>
      <p><%= "Patient Comment: #{@consultation.review.comment}" %></p>
      <p><%= "Rating: #{@consultation.review.coach_rating}/5" %></p>
      <%= button_to 'Edit review', edit_review_path(@consultation.review), method: :get, class: "btn btn-primary" %>
    <% else %>
      <%= button_to 'Leave a review', new_consultation_review_path(@consultation), method: :get, class: "btn btn-primary" %>
    <% end %>
  </div>
</div>

<div id="map"
     style="width: 100%; height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= 'pk.eyJ1IjoiYmVydmVjbyIsImEiOiJja2Jia2FzZzgwMWVuMnJvZGU4bGw1OGFxIn0.9C4KHDmcmZo0Ocn6qQ-Ejg' %>">
</div>
